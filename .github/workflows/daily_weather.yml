name: æ¯æ—¥å¤©æ°”æ¨é€

on:
  schedule:
    # åŒ—äº¬æ—¶é—´ 07:00 = UTCæ—¶é—´ 23:00 (å‰ä¸€å¤©)
    - cron: '0 23 * * *'
  
  # å…è®¸æ‰‹åŠ¨è§¦å‘æµ‹è¯•
  workflow_dispatch:

jobs:
  send-weather:
    runs-on: ubuntu-latest
    
    steps:
      - name: ğŸ“¥ æ‹‰å–ä»£ç 
        uses: actions/checkout@v3
      
      - name: ğŸ è®¾ç½® Python ç¯å¢ƒ
        uses: actions/setup-python@v4
        with:
          python-version: '3.9'
          
      - name: ğŸ“¦ å®‰è£…ä¾èµ–åº“
        run: |
          pip install requests
          
      - name: ğŸš€ è¿è¡Œå¤©æ°”è„šæœ¬
        env:
          MAIL_USER: ${{ secrets.MAIL_USER }}
          MAIL_PASS: ${{ secrets.MAIL_PASS }}
          QWEATHER_KEY: ${{ secrets.QWEATHER_KEY }}
        run: python weather_bot.py
